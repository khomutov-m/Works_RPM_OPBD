USE [master]
GO
/****** Object:  Database [ispp2114]    Script Date: 23.06.2024 16:01:22 ******/
CREATE DATABASE [ispp2114]
 CONTAINMENT = NONE
 ON  PRIMARY 
( NAME = N'ispp2114', FILENAME = N'D:\Егор\Новая папка\MSSQL16.SQLEXPRESS\MSSQL\DATA\ispp2114.mdf' , SIZE = 8192KB , MAXSIZE = UNLIMITED, FILEGROWTH = 65536KB )
 LOG ON 
( NAME = N'ispp2114_log', FILENAME = N'D:\Егор\Новая папка\MSSQL16.SQLEXPRESS\MSSQL\DATA\ispp2114_log.ldf' , SIZE = 8192KB , MAXSIZE = 2048GB , FILEGROWTH = 65536KB )
 WITH CATALOG_COLLATION = DATABASE_DEFAULT, LEDGER = OFF
GO
ALTER DATABASE [ispp2114] SET COMPATIBILITY_LEVEL = 150
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
begin
EXEC [ispp2114].[dbo].[sp_fulltext_database] @action = 'enable'
end
GO
ALTER DATABASE [ispp2114] SET ANSI_NULL_DEFAULT OFF 
GO
ALTER DATABASE [ispp2114] SET ANSI_NULLS OFF 
GO
ALTER DATABASE [ispp2114] SET ANSI_PADDING OFF 
GO
ALTER DATABASE [ispp2114] SET ANSI_WARNINGS OFF 
GO
ALTER DATABASE [ispp2114] SET ARITHABORT OFF 
GO
ALTER DATABASE [ispp2114] SET AUTO_CLOSE ON 
GO
ALTER DATABASE [ispp2114] SET AUTO_SHRINK OFF 
GO
ALTER DATABASE [ispp2114] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [ispp2114] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [ispp2114] SET CURSOR_DEFAULT  GLOBAL 
GO
ALTER DATABASE [ispp2114] SET CONCAT_NULL_YIELDS_NULL OFF 
GO
ALTER DATABASE [ispp2114] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [ispp2114] SET QUOTED_IDENTIFIER OFF 
GO
ALTER DATABASE [ispp2114] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [ispp2114] SET  ENABLE_BROKER 
GO
ALTER DATABASE [ispp2114] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [ispp2114] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [ispp2114] SET TRUSTWORTHY OFF 
GO
ALTER DATABASE [ispp2114] SET ALLOW_SNAPSHOT_ISOLATION OFF 
GO
ALTER DATABASE [ispp2114] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [ispp2114] SET READ_COMMITTED_SNAPSHOT OFF 
GO
ALTER DATABASE [ispp2114] SET HONOR_BROKER_PRIORITY OFF 
GO
ALTER DATABASE [ispp2114] SET RECOVERY SIMPLE 
GO
ALTER DATABASE [ispp2114] SET  MULTI_USER 
GO
ALTER DATABASE [ispp2114] SET PAGE_VERIFY CHECKSUM  
GO
ALTER DATABASE [ispp2114] SET DB_CHAINING OFF 
GO
ALTER DATABASE [ispp2114] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
GO
ALTER DATABASE [ispp2114] SET TARGET_RECOVERY_TIME = 60 SECONDS 
GO
ALTER DATABASE [ispp2114] SET DELAYED_DURABILITY = DISABLED 
GO
ALTER DATABASE [ispp2114] SET ACCELERATED_DATABASE_RECOVERY = OFF  
GO
ALTER DATABASE [ispp2114] SET QUERY_STORE = OFF
GO
USE [ispp2114]
GO
/****** Object:  User [ispp2114]    Script Date: 23.06.2024 16:01:22 ******/
CREATE USER [ispp2114] FOR LOGIN [ispp2114] WITH DEFAULT_SCHEMA=[db_accessadmin]
GO
/****** Object:  Table [dbo].[Author]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Author](
	[AuthorId] [int] IDENTITY(1,1) NOT NULL,
	[Surname] [nvarchar](50) NOT NULL,
	[Name] [nvarchar](50) NOT NULL,
	[Country] [nvarchar](30) NOT NULL,
 CONSTRAINT [PK_Author] PRIMARY KEY CLUSTERED 
(
	[AuthorId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Book]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Book](
	[BookId] [int] IDENTITY(1,1) NOT NULL,
	[AuthorId] [int] NOT NULL,
	[Title] [nvarchar](50) NOT NULL,
	[Genre] [nvarchar](10) NOT NULL,
	[Price] [decimal](6, 2) NOT NULL,
	[Weight] [decimal](4, 3) NOT NULL,
	[Pages] [smallint] NOT NULL,
	[PublicationYear] [smallint] NULL,
 CONSTRAINT [PK_Book] PRIMARY KEY CLUSTERED 
(
	[BookId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Category]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Category](
	[CategoryId] [int] IDENTITY(1,1) NOT NULL,
	[Title] [varchar](100) NOT NULL,
 CONSTRAINT [PK_Category] PRIMARY KEY CLUSTERED 
(
	[CategoryId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[CheapGames]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CheapGames](
	[idGame] [int] IDENTITY(1,1) NOT NULL,
	[name] [varchar](100) NOT NULL,
	[price] [decimal](10, 2) NOT NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Customer]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Customer](
	[CustomerId] [int] IDENTITY(1,1) NOT NULL,
	[Login] [varchar](20) NOT NULL,
	[Surname] [nvarchar](50) NOT NULL,
	[Name] [nvarchar](50) NOT NULL,
	[Address] [nvarchar](50) NOT NULL,
	[Phone] [nvarchar](20) NULL,
 CONSTRAINT [PK_Customer] PRIMARY KEY CLUSTERED 
(
	[CustomerId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[ExamOrder]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[ExamOrder](
	[OrderID] [int] IDENTITY(1,1) NOT NULL,
	[OrderStatus] [nvarchar](max) NOT NULL,
	[OrderDate] [datetime] NOT NULL,
	[OrderDeliveryDate] [datetime] NOT NULL,
	[OrderPickupPoint] [smallint] NOT NULL,
	[OrderUserId] [int] NULL,
	[OrderPickupCode] [smallint] NOT NULL,
 CONSTRAINT [PK__ExamOrde__C3905BAFB5D46591] PRIMARY KEY CLUSTERED 
(
	[OrderID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[ExamOrderProduct]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[ExamOrderProduct](
	[OrderID] [int] NOT NULL,
	[ProductArticleNumber] [nvarchar](100) NOT NULL,
	[ProductAmount] [tinyint] NOT NULL,
 CONSTRAINT [PK__ExamOrde__817A26628805FBC8] PRIMARY KEY CLUSTERED 
(
	[OrderID] ASC,
	[ProductArticleNumber] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[ExamPickupPoint]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[ExamPickupPoint](
	[PickupPointId] [smallint] IDENTITY(1,1) NOT NULL,
	[PickupPointAddress] [nvarchar](200) NOT NULL,
	[PickupPointMailIndex] [int] NOT NULL,
 CONSTRAINT [PK_ExamPickupPoint] PRIMARY KEY CLUSTERED 
(
	[PickupPointId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[ExamProduct]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[ExamProduct](
	[ProductArticleNumber] [nvarchar](100) NOT NULL,
	[ProductName] [nvarchar](max) NOT NULL,
	[ProductDescription] [nvarchar](max) NOT NULL,
	[ProductCategory] [nvarchar](max) NOT NULL,
	[ProductPhoto] [image] NULL,
	[ProductManufacturer] [nvarchar](max) NOT NULL,
	[ProductCost] [decimal](19, 2) NOT NULL,
	[ProductDiscountAmount] [tinyint] NULL,
	[ProductQuantityInStock] [int] NOT NULL,
	[ProductStatus] [nvarchar](max) NOT NULL,
 CONSTRAINT [PK__ExamProd__2EA7DCD574DE71DE] PRIMARY KEY CLUSTERED 
(
	[ProductArticleNumber] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[ExamRole]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[ExamRole](
	[RoleID] [int] IDENTITY(1,1) NOT NULL,
	[RoleName] [nvarchar](100) NOT NULL,
PRIMARY KEY CLUSTERED 
(
	[RoleID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[ExamUser]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[ExamUser](
	[UserID] [int] IDENTITY(1,1) NOT NULL,
	[UserSurname] [nvarchar](100) NOT NULL,
	[UserName] [nvarchar](100) NOT NULL,
	[UserPatronymic] [nvarchar](100) NOT NULL,
	[UserLogin] [nvarchar](max) NOT NULL,
	[UserPassword] [nvarchar](max) NOT NULL,
	[UserRole] [int] NOT NULL,
 CONSTRAINT [PK__ExamUser__1788CCACFA3D9E98] PRIMARY KEY CLUSTERED 
(
	[UserID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Games]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Games](
	[idGame] [int] IDENTITY(1,1) NOT NULL,
	[name] [varchar](100) NOT NULL,
	[description] [varchar](500) NULL,
	[category] [varchar](50) NOT NULL,
	[price] [decimal](10, 2) NOT NULL,
PRIMARY KEY CLUSTERED 
(
	[idGame] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Order]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Order](
	[OrderId] [int] IDENTITY(1,1) NOT NULL,
	[CustomerId] [int] NOT NULL,
	[OrderDatetime] [datetime] NOT NULL,
 CONSTRAINT [PK_Order] PRIMARY KEY CLUSTERED 
(
	[OrderId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[OrderList]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[OrderList](
	[OrderId] [int] NOT NULL,
	[BookId] [int] NOT NULL,
	[Amount] [tinyint] NOT NULL,
 CONSTRAINT [PK_OrderList] PRIMARY KEY CLUSTERED 
(
	[OrderId] ASC,
	[BookId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[PromotionalItem]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[PromotionalItem](
	[PromotionId] [int] NOT NULL,
	[BookId] [int] NOT NULL,
PRIMARY KEY CLUSTERED 
(
	[PromotionId] ASC,
	[BookId] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Prose]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Prose](
	[Surname] [nvarchar](50) NOT NULL,
	[Name] [nvarchar](50) NOT NULL,
	[Title] [nvarchar](50) NOT NULL,
	[Price] [decimal](6, 2) NOT NULL,
	[PublicationYear] [smallint] NULL
) ON [PRIMARY]
GO
SET IDENTITY_INSERT [dbo].[Author] ON 
GO
INSERT [dbo].[Author] ([AuthorId], [Surname], [Name], [Country]) VALUES (1, N'Пушкин', N'Александр', N'Россия')
GO
INSERT [dbo].[Author] ([AuthorId], [Surname], [Name], [Country]) VALUES (2, N'Лермонтов', N'Михаил', N'Россия')
GO
INSERT [dbo].[Author] ([AuthorId], [Surname], [Name], [Country]) VALUES (3, N'Толстой', N'Лев', N'Россия')
GO
INSERT [dbo].[Author] ([AuthorId], [Surname], [Name], [Country]) VALUES (4, N'Гоголь', N'Николай', N'Украина')
GO
INSERT [dbo].[Author] ([AuthorId], [Surname], [Name], [Country]) VALUES (5, N'Роулинг', N'Джоан', N'Великобритания')
GO
SET IDENTITY_INSERT [dbo].[Author] OFF
GO
SET IDENTITY_INSERT [dbo].[Book] ON 
GO
INSERT [dbo].[Book] ([BookId], [AuthorId], [Title], [Genre], [Price], [Weight], [Pages], [PublicationYear]) VALUES (7, 5, N'Гарри Поттер', N'Другое', CAST(2391.59 AS Decimal(6, 2)), CAST(0.340 AS Decimal(4, 3)), 223, 1997)
GO
INSERT [dbo].[Book] ([BookId], [AuthorId], [Title], [Genre], [Price], [Weight], [Pages], [PublicationYear]) VALUES (8, 2, N'Герой нашего времени', N'Другое', CAST(1195.86 AS Decimal(6, 2)), CAST(0.200 AS Decimal(4, 3)), 256, 1840)
GO
INSERT [dbo].[Book] ([BookId], [AuthorId], [Title], [Genre], [Price], [Weight], [Pages], [PublicationYear]) VALUES (10, 2, N'Мцыри', N'Другое', CAST(717.57 AS Decimal(6, 2)), CAST(0.100 AS Decimal(4, 3)), 128, 1839)
GO
INSERT [dbo].[Book] ([BookId], [AuthorId], [Title], [Genre], [Price], [Weight], [Pages], [PublicationYear]) VALUES (11, 1, N'Евгений Онегин', N'Другое', CAST(1434.90 AS Decimal(6, 2)), CAST(0.300 AS Decimal(4, 3)), 384, 1831)
GO
INSERT [dbo].[Book] ([BookId], [AuthorId], [Title], [Genre], [Price], [Weight], [Pages], [PublicationYear]) VALUES (12, 3, N'Война и мир', N'Другое', CAST(3530.54 AS Decimal(6, 2)), CAST(1.500 AS Decimal(4, 3)), 1224, 1869)
GO
INSERT [dbo].[Book] ([BookId], [AuthorId], [Title], [Genre], [Price], [Weight], [Pages], [PublicationYear]) VALUES (13, 4, N'Тарас Бульба', N'Проза', CAST(1195.86 AS Decimal(6, 2)), CAST(0.150 AS Decimal(4, 3)), 224, 1835)
GO
INSERT [dbo].[Book] ([BookId], [AuthorId], [Title], [Genre], [Price], [Weight], [Pages], [PublicationYear]) VALUES (14, 4, N'Шинель', N'Проза', CAST(597.92 AS Decimal(6, 2)), CAST(0.080 AS Decimal(4, 3)), 128, 1842)
GO
SET IDENTITY_INSERT [dbo].[Book] OFF
GO
SET IDENTITY_INSERT [dbo].[Customer] ON 
GO
INSERT [dbo].[Customer] ([CustomerId], [Login], [Surname], [Name], [Address], [Phone]) VALUES (1, N'DOG_1', N'Козлов', N'Василий', N'ул. Поколения, д. 6, кв. 5', N'+79222111153')
GO
INSERT [dbo].[Customer] ([CustomerId], [Login], [Surname], [Name], [Address], [Phone]) VALUES (4, N'CAT_2', N'Козлова', N'Валентина', N'ул. Поколения, д. 6, кв. 4', N'+79221412153')
GO
INSERT [dbo].[Customer] ([CustomerId], [Login], [Surname], [Name], [Address], [Phone]) VALUES (5, N'Duck_3', N'Козлов', N'Арсений', N'ул. Поколения, д. 6, кв. 4', N'+79223146452')
GO
INSERT [dbo].[Customer] ([CustomerId], [Login], [Surname], [Name], [Address], [Phone]) VALUES (6, N'lol_45_2', N'Сынов', N'Андрей', N' ', NULL)
GO
SET IDENTITY_INSERT [dbo].[Customer] OFF
GO
SET IDENTITY_INSERT [dbo].[ExamOrder] ON 
GO
INSERT [dbo].[ExamOrder] ([OrderID], [OrderStatus], [OrderDate], [OrderDeliveryDate], [OrderPickupPoint], [OrderUserId], [OrderPickupCode]) VALUES (1, N'Новый ', CAST(N'2022-05-04T00:00:00.000' AS DateTime), CAST(N'2022-05-10T00:00:00.000' AS DateTime), 24, 1, 201)
GO
INSERT [dbo].[ExamOrder] ([OrderID], [OrderStatus], [OrderDate], [OrderDeliveryDate], [OrderPickupPoint], [OrderUserId], [OrderPickupCode]) VALUES (2, N'Новый ', CAST(N'2022-05-05T00:00:00.000' AS DateTime), CAST(N'2022-05-11T00:00:00.000' AS DateTime), 25, 5, 202)
GO
INSERT [dbo].[ExamOrder] ([OrderID], [OrderStatus], [OrderDate], [OrderDeliveryDate], [OrderPickupPoint], [OrderUserId], [OrderPickupCode]) VALUES (3, N'Новый ', CAST(N'2022-05-06T00:00:00.000' AS DateTime), CAST(N'2022-05-12T00:00:00.000' AS DateTime), 26, 2, 203)
GO
INSERT [dbo].[ExamOrder] ([OrderID], [OrderStatus], [OrderDate], [OrderDeliveryDate], [OrderPickupPoint], [OrderUserId], [OrderPickupCode]) VALUES (4, N'Новый ', CAST(N'2022-05-07T00:00:00.000' AS DateTime), CAST(N'2022-05-13T00:00:00.000' AS DateTime), 27, 6, 204)
GO
INSERT [dbo].[ExamOrder] ([OrderID], [OrderStatus], [OrderDate], [OrderDeliveryDate], [OrderPickupPoint], [OrderUserId], [OrderPickupCode]) VALUES (5, N'Новый ', CAST(N'2022-05-08T00:00:00.000' AS DateTime), CAST(N'2022-05-14T00:00:00.000' AS DateTime), 28, 3, 205)
GO
INSERT [dbo].[ExamOrder] ([OrderID], [OrderStatus], [OrderDate], [OrderDeliveryDate], [OrderPickupPoint], [OrderUserId], [OrderPickupCode]) VALUES (6, N'Новый', CAST(N'2022-05-09T00:00:00.000' AS DateTime), CAST(N'2022-05-15T00:00:00.000' AS DateTime), 28, 7, 206)
GO
INSERT [dbo].[ExamOrder] ([OrderID], [OrderStatus], [OrderDate], [OrderDeliveryDate], [OrderPickupPoint], [OrderUserId], [OrderPickupCode]) VALUES (7, N'Новый ', CAST(N'2022-05-10T00:00:00.000' AS DateTime), CAST(N'2022-05-16T00:00:00.000' AS DateTime), 30, 8, 207)
GO
INSERT [dbo].[ExamOrder] ([OrderID], [OrderStatus], [OrderDate], [OrderDeliveryDate], [OrderPickupPoint], [OrderUserId], [OrderPickupCode]) VALUES (8, N'Новый ', CAST(N'2022-05-11T00:00:00.000' AS DateTime), CAST(N'2022-05-17T00:00:00.000' AS DateTime), 31, 9, 208)
GO
INSERT [dbo].[ExamOrder] ([OrderID], [OrderStatus], [OrderDate], [OrderDeliveryDate], [OrderPickupPoint], [OrderUserId], [OrderPickupCode]) VALUES (9, N'Новый ', CAST(N'2022-05-12T00:00:00.000' AS DateTime), CAST(N'2022-05-18T00:00:00.000' AS DateTime), 32, 4, 209)
GO
INSERT [dbo].[ExamOrder] ([OrderID], [OrderStatus], [OrderDate], [OrderDeliveryDate], [OrderPickupPoint], [OrderUserId], [OrderPickupCode]) VALUES (10, N'Завершен', CAST(N'2022-05-13T00:00:00.000' AS DateTime), CAST(N'2022-05-19T00:00:00.000' AS DateTime), 33, 10, 210)
GO
SET IDENTITY_INSERT [dbo].[ExamOrder] OFF
GO
INSERT [dbo].[ExamOrderProduct] ([OrderID], [ProductArticleNumber], [ProductAmount]) VALUES (1, N'E542S1', 2)
GO
INSERT [dbo].[ExamOrderProduct] ([OrderID], [ProductArticleNumber], [ProductAmount]) VALUES (2, N'E573G6', 2)
GO
INSERT [dbo].[ExamOrderProduct] ([OrderID], [ProductArticleNumber], [ProductAmount]) VALUES (3, N'F344S4', 1)
GO
INSERT [dbo].[ExamOrderProduct] ([OrderID], [ProductArticleNumber], [ProductAmount]) VALUES (4, N'H732R5', 3)
GO
INSERT [dbo].[ExamOrderProduct] ([OrderID], [ProductArticleNumber], [ProductAmount]) VALUES (5, N'H732R5', 2)
GO
INSERT [dbo].[ExamOrderProduct] ([OrderID], [ProductArticleNumber], [ProductAmount]) VALUES (6, N'J432E4', 1)
GO
INSERT [dbo].[ExamOrderProduct] ([OrderID], [ProductArticleNumber], [ProductAmount]) VALUES (7, N'K535G6', 3)
GO
INSERT [dbo].[ExamOrderProduct] ([OrderID], [ProductArticleNumber], [ProductAmount]) VALUES (8, N'K535G6', 2)
GO
INSERT [dbo].[ExamOrderProduct] ([OrderID], [ProductArticleNumber], [ProductAmount]) VALUES (9, N'S753T5', 3)
GO
INSERT [dbo].[ExamOrderProduct] ([OrderID], [ProductArticleNumber], [ProductAmount]) VALUES (10, N'V472S3', 4)
GO
INSERT [dbo].[ExamOrderProduct] ([OrderID], [ProductArticleNumber], [ProductAmount]) VALUES (10, N'А112Т4', 5)
GO
SET IDENTITY_INSERT [dbo].[ExamPickupPoint] ON 
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (1, N'г. Ангарск, ул. Чехова, 2', 344288)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (2, N'г.Ангарск,  ул. Степная, 31', 614164)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (3, N'г. Ангарск, ул. Коммунистическая, 44', 394242)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (4, N'г. Ангарск, ул. Солнечная, 26', 660540)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (5, N'г. Ангарск, ул. Шоссейная, 41', 125837)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (6, N'г. Ангарск, ул. Партизанская, 50', 125703)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (7, N' г. Ангарск, ул. Победы, 47', 625283)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (8, N'г. Ангарск, ул. Молодежная, 51', 614611)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (9, N'г.Ангарск, ул. Новая, 20', 454311)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (10, N'г.Ангарск, ул. Октябрьская, 20', 660007)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (11, N'г. Ангарск, ул. Садовая, 5', 603036)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (12, N'г.Ангарск, ул. Комсомольская, 27', 450983)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (13, N'г. Ангарск, ул. Чехова, 4', 394782)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (14, N'г. Ангарск, ул. Дзержинского, 29', 603002)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (15, N'г. Ангарск, ул. Набережная, 31', 450558)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (16, N'г.Ангарск, ул. Фрунзе, 44', 394060)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (17, N'г. Ангарск, ул. Школьная, 51', 410661)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (18, N'г. Ангарск, ул. Коммунистическая, 21', 625590)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (19, N'г. Ангарск, ул. 8 Марта', 625683)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (20, N'г. Ангарск, ул. Зеленая, 33', 400562)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (21, N'г. Ангарск, ул. Маяковского, 48', 614510)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (22, N'г. Ангарск, ул. Светлая, 47', 410542)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (23, N'г. Ангарск, ул. Цветочная, 9', 620839)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (24, N'г. Ангарск, ул. Коммунистическая, 2', 443890)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (25, N'г. Ангарск, ул. Спортивная, 47', 603379)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (26, N'г. Ангарск, ул. Гоголя, 42', 603721)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (27, N'г. Ангарск, ул. Северная, 14', 410172)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (28, N'г. Ангарск, ул. Вишневая, 33', 420151)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (29, N'г. Ангарск, ул. Подгорная, 9', 125061)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (30, N'г. Ангарск, ул. Шоссейная, 25', 630370)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (31, N'г. Ангарск, ул. Полевая, 36', 614753)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (32, N'г. Ангарск, ул. Маяковского, 45', 426030)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (33, N'г. Ангарск, ул. Клубная, 45', 450375)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (34, N'г. Ангарск, ул. Некрасова, 13', 625560)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (35, N'г. Ангарск, ул. Комсомольская, 18', 630201)
GO
INSERT [dbo].[ExamPickupPoint] ([PickupPointId], [PickupPointAddress], [PickupPointMailIndex]) VALUES (36, N'г. Ангарск, ул. Мичурина, 27', 190949)
GO
SET IDENTITY_INSERT [dbo].[ExamPickupPoint] OFF
GO
INSERT [dbo].[ExamProduct] ([ProductArticleNumber], [ProductName], [ProductDescription], [ProductCategory], [ProductPhoto], [ProductManufacturer], [ProductCost], [ProductDiscountAmount], [ProductQuantityInStock], [ProductStatus]) VALUES (N'E542S1', N'Серьги', N'Серьги из серебра с позолотой', N'2', NULL, N'2', CAST(8000.00 AS Decimal(19, 2)), 3, 1, N'В наличии')
GO
INSERT [dbo].[ExamProduct] ([ProductArticleNumber], [ProductName], [ProductDescription], [ProductCategory], [ProductPhoto], [ProductManufacturer], [ProductCost], [ProductDiscountAmount], [ProductQuantityInStock], [ProductStatus]) VALUES (N'E573G6', N'Серьги', N'Серьги из золота 029038', N'1', NULL, N'2', CAST(7000.00 AS Decimal(19, 2)), 15, 6, N'В наличии')
GO
INSERT [dbo].[ExamProduct] ([ProductArticleNumber], [ProductName], [ProductDescription], [ProductCategory], [ProductPhoto], [ProductManufacturer], [ProductCost], [ProductDiscountAmount], [ProductQuantityInStock], [ProductStatus]) VALUES (N'F344S4', N'Ожерелье', N'Ожерелье Lace (муассанит, круг, BS Regular, 6,5мм, 2 муассанит Кр-57 6мм)', N'3', NULL, N'1', CAST(590000.00 AS Decimal(19, 2)), 30, 1, N'В наличии')
GO
INSERT [dbo].[ExamProduct] ([ProductArticleNumber], [ProductName], [ProductDescription], [ProductCategory], [ProductPhoto], [ProductManufacturer], [ProductCost], [ProductDiscountAmount], [ProductQuantityInStock], [ProductStatus]) VALUES (N'F346G5', N'Серьги', N'Серьги из золота с эмалью', N'1', NULL, N'2', CAST(12000.00 AS Decimal(19, 2)), 25, 5, N'В наличии')
GO
INSERT [dbo].[ExamProduct] ([ProductArticleNumber], [ProductName], [ProductDescription], [ProductCategory], [ProductPhoto], [ProductManufacturer], [ProductCost], [ProductDiscountAmount], [ProductQuantityInStock], [ProductStatus]) VALUES (N'F893T5', N'Серьги', N'Серьги с 4 фианитами из серебра с позолотой', N'1', NULL, N'2', CAST(2300.00 AS Decimal(19, 2)), 10, 2, N'В наличии')
GO
INSERT [dbo].[ExamProduct] ([ProductArticleNumber], [ProductName], [ProductDescription], [ProductCategory], [ProductPhoto], [ProductManufacturer], [ProductCost], [ProductDiscountAmount], [ProductQuantityInStock], [ProductStatus]) VALUES (N'G532R5', N'Подвеска', N'Подвеска из золочёного серебра с фианитами', N'3', NULL, N'1', CAST(695.00 AS Decimal(19, 2)), 5, 0, N'Нет в наличии')
GO
INSERT [dbo].[ExamProduct] ([ProductArticleNumber], [ProductName], [ProductDescription], [ProductCategory], [ProductPhoto], [ProductManufacturer], [ProductCost], [ProductDiscountAmount], [ProductQuantityInStock], [ProductStatus]) VALUES (N'H732R5', N'Подвеска', N'Подвеска из красного золота П142-4547', N'2', NULL, N'2', CAST(5195.00 AS Decimal(19, 2)), 30, 6, N'В наличии')
GO
INSERT [dbo].[ExamProduct] ([ProductArticleNumber], [ProductName], [ProductDescription], [ProductCategory], [ProductPhoto], [ProductManufacturer], [ProductCost], [ProductDiscountAmount], [ProductQuantityInStock], [ProductStatus]) VALUES (N'J432E4', N'Серьги', N'Серебряные серьги c ювелирной керамикой', N'1', NULL, N'1', CAST(2900.00 AS Decimal(19, 2)), 15, 16, N'В наличии')
GO
INSERT [dbo].[ExamProduct] ([ProductArticleNumber], [ProductName], [ProductDescription], [ProductCategory], [ProductPhoto], [ProductManufacturer], [ProductCost], [ProductDiscountAmount], [ProductQuantityInStock], [ProductStatus]) VALUES (N'K535G6', N'Серьги', N'Серьги-продевки из золота с фианитами', N'1', NULL, N'2', CAST(6200.00 AS Decimal(19, 2)), 4, 5, N'В наличии')
GO
INSERT [dbo].[ExamProduct] ([ProductArticleNumber], [ProductName], [ProductDescription], [ProductCategory], [ProductPhoto], [ProductManufacturer], [ProductCost], [ProductDiscountAmount], [ProductQuantityInStock], [ProductStatus]) VALUES (N'O875F6', N'Серьги', N'Серьги из золота с эмалью', N'1', NULL, N'2', CAST(11545.00 AS Decimal(19, 2)), 3, 2, N'В наличии')
GO
INSERT [dbo].[ExamProduct] ([ProductArticleNumber], [ProductName], [ProductDescription], [ProductCategory], [ProductPhoto], [ProductManufacturer], [ProductCost], [ProductDiscountAmount], [ProductQuantityInStock], [ProductStatus]) VALUES (N'R464G6', N'Подвеска', N'Подвеска из серебра с позолотой', N'2', NULL, N'1', CAST(2100.00 AS Decimal(19, 2)), 3, 6, N'В наличии')
GO
INSERT [dbo].[ExamProduct] ([ProductArticleNumber], [ProductName], [ProductDescription], [ProductCategory], [ProductPhoto], [ProductManufacturer], [ProductCost], [ProductDiscountAmount], [ProductQuantityInStock], [ProductStatus]) VALUES (N'S753T5', N'Браслет', N'Браслет из золота ', N'4', NULL, N'2', CAST(5900.00 AS Decimal(19, 2)), 3, 6, N'В наличии')
GO
INSERT [dbo].[ExamProduct] ([ProductArticleNumber], [ProductName], [ProductDescription], [ProductCategory], [ProductPhoto], [ProductManufacturer], [ProductCost], [ProductDiscountAmount], [ProductQuantityInStock], [ProductStatus]) VALUES (N'V472S3', N'Серьги', N'Серьги из красного золота', N'1', NULL, N'2', CAST(7000.00 AS Decimal(19, 2)), 2, 16, N'В наличии')
GO
INSERT [dbo].[ExamProduct] ([ProductArticleNumber], [ProductName], [ProductDescription], [ProductCategory], [ProductPhoto], [ProductManufacturer], [ProductCost], [ProductDiscountAmount], [ProductQuantityInStock], [ProductStatus]) VALUES (N'А112Т4', N'Серьги', N'Серьги из серебра с позолотой', N'2', NULL, N'1', CAST(2400.00 AS Decimal(19, 2)), 3, 5, N'В наличии')
GO
SET IDENTITY_INSERT [dbo].[ExamRole] ON 
GO
INSERT [dbo].[ExamRole] ([RoleID], [RoleName]) VALUES (1, N'Клиент')
GO
INSERT [dbo].[ExamRole] ([RoleID], [RoleName]) VALUES (2, N'Менеджер')
GO
INSERT [dbo].[ExamRole] ([RoleID], [RoleName]) VALUES (3, N'Администратор')
GO
SET IDENTITY_INSERT [dbo].[ExamRole] OFF
GO
SET IDENTITY_INSERT [dbo].[ExamUser] ON 
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (0, N'Наш', N'лучший', N'гость', N'guest', N'guest', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (1, N'Меркушев', N'Мартын', N'Федотович', N'888', N'888', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (2, N'Казаков', N'Федот', N'Кондратович', N'321', N'321', 2)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (3, N'Карпов', N'Улеб', N'Леонидович', N'123', N'123', 3)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (4, N'Королёв', N'Матвей', N'Вадимович', N'loginDEgco2018', N'nMr|ss', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (5, N'Юдин', N'Герман', N'Кондратович', N'loginDEwjg2018', N'9UfqWQ', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (6, N'Беляева', N'Анна', N'Вячеславовна', N'loginDEjbz2018', N'xIAWNI', 3)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (7, N'Беляев', N'Валентин', N'Артёмович', N'loginDEmgu2018', N'0gC3bk', 2)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (8, N'Семёнов', N'Герман', N'Дмитрьевич', N'loginDErdg2018', N'ni0ue0', 2)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (9, N'Шестаков', N'Илья', N'Антонинович', N'loginDEjtv2018', N'f2ZaN6', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (10, N'Власов', N'Вадим', N'Васильевич', N'loginDEtfj2018', N'{{ksPn', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (11, N'Савельев', N'Арсений', N'Авксентьевич', N'loginDEpnb2018', N'{ADBdc', 3)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (12, N'Ефимов', N'Руслан', N'Якунович', N'loginDEsnq2018', N'S}SAD3a', 3)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (13, N'Бурова', N'Марфа', N'Федотовна', N'loginDEiin2018', N'y9l*b}', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (14, N'Селезнёв', N'Александр', N'Никитевич', N'loginDEqda2018', N'|h+r}I', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (15, N'Кулакова', N'Виктория', N'Георгьевна', N'loginDEbnj2018', N'SASD12|1&', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (16, N'Дорофеева', N'Кира', N'Демьяновна', N'loginDEqte2018', N'dC8bDI', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (17, N'Сафонова', N'Нинель', N'Якововна', N'loginDEfeo2018', N'8cI7vq', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (18, N'Ситникова', N'София', N'Лукьевна', N'loginDEvni2018', N'e4pVIv', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (19, N'Медведев', N'Ириней', N'Геннадьевич', N'loginDEjis2018', N'A9K++2', 2)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (20, N'Суханова', N'Евгения', N'Улебовна', N'loginDExvv2018', N'R1zh}|', 2)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (21, N'Игнатьев', N'Владлен', N'Дамирович', N'loginDEadl2018', N'F&IWf4', 2)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (22, N'Ефремов', N'Христофор', N'Владиславович', N'loginDEyzn2018', N'P1v24R', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (23, N'Кошелев', N'Ростислав', N'Куприянович', N'loginDEphn2018', N'F}jGsJ', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (24, N'Галкина', N'Тамара', N'Авксентьевна', N'loginDEdvk2018', N'NKNkup', 3)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (25, N'Журавлёва', N'Вера', N'Арсеньевна', N'loginDEtld2018', N'c+CECK', 2)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (26, N'Савина', N'Таисия', N'Глебовна', N'loginDEima2018', N'XK3sOA', 3)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (27, N'Иванов', N'Яков', N'Мэлорович', N'loginDEyfe2018', N'4Bbzpa', 3)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (28, N'Лыткин', N'Ким', N'Алексеевич', N'loginDEwqc2018', N'vRtAP*', 2)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (29, N'Логинов', N'Федот', N'Святославович', N'loginDEgtt2018', N'7YD|BR', 2)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (30, N'Русакова', N'Марина', N'Юлиановна', N'loginDEiwl2018', N'LhlmIl', 2)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (31, N'Константинов', N'Пётр', N'Кондратович', N'loginDEyvi2018', N'22beR}', 3)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (32, N'Поляков', N'Анатолий', N'Игоревич', N'loginDEtfz2018', N'uQY0ZQ', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (33, N'Панфилова', N'Василиса', N'Григорьевна', N'loginDEikb2018', N'*QkUxc', 3)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (34, N'Воробьёв', N'Герман', N'Романович', N'loginDEdmi2018', N'HOGFbU', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (35, N'Андреев', N'Ростислав', N'Федосеевич', N'loginDEtlo2018', N'58Jxrg', 3)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (36, N'Бобров', N'Агафон', N'Владимирович', N'loginDEsnd2018', N'lLHqZf', 3)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (37, N'Лапин', N'Алексей', N'Витальевич', N'loginDEgno2018', N'4fqLiO', 3)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (38, N'Шестаков', N'Авдей', N'Иванович', N'loginDEgnl2018', N'wdio{u', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (39, N'Гаврилова', N'Алина', N'Эдуардовна', N'loginDEzna2018', N'yz1iMB', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (40, N'Жуков', N'Юлиан', N'Валерьянович', N'loginDEsyh2018', N'&4jYGs', 2)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (41, N'Пономарёв', N'Максим', N'Альвианович', N'loginDExex2018', N'rnh36{', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (42, N'Зиновьева', N'Мария', N'Лаврентьевна', N'loginDEdjm2018', N'KjI1JR', 2)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (43, N'Осипов', N'Артём', N'Мэлорович', N'loginDEgup2018', N'36|KhF', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (44, N'Лапин', N'Вячеслав', N'Геласьевич', N'loginDEdat2018', N'ussd8Q', 3)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (45, N'Зуев', N'Ириней', N'Вадимович', N'loginDEffj2018', N'cJP+HC', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (46, N'Коновалова', N'Агафья', N'Митрофановна', N'loginDEisp2018', N'dfz5Ii', 2)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (47, N'Исаев', N'Дмитрий', N'Аристархович', N'loginDEfrp2018', N'6dcR|9', 2)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (48, N'Белозёрова', N'Алевтина', N'Лаврентьевна', N'loginDEaee2018', N'5&qONH', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (49, N'Самсонов', N'Агафон', N'Максимович', N'loginDEthu2018', N'|0xWzV', 1)
GO
INSERT [dbo].[ExamUser] ([UserID], [UserSurname], [UserName], [UserPatronymic], [UserLogin], [UserPassword], [UserRole]) VALUES (51, N'Константинова', N'Вероника', N'Агафоновна', N'loginDEsgg2018', N'qhgYnW', 2)
GO
SET IDENTITY_INSERT [dbo].[ExamUser] OFF
GO
SET IDENTITY_INSERT [dbo].[Order] ON 
GO
INSERT [dbo].[Order] ([OrderId], [CustomerId], [OrderDatetime]) VALUES (1, 4, CAST(N'2024-06-05T21:40:41.713' AS DateTime))
GO
INSERT [dbo].[Order] ([OrderId], [CustomerId], [OrderDatetime]) VALUES (2, 4, CAST(N'2024-06-05T21:40:51.137' AS DateTime))
GO
INSERT [dbo].[Order] ([OrderId], [CustomerId], [OrderDatetime]) VALUES (3, 5, CAST(N'2024-06-05T21:40:53.390' AS DateTime))
GO
INSERT [dbo].[Order] ([OrderId], [CustomerId], [OrderDatetime]) VALUES (4, 1, CAST(N'2024-06-05T21:40:55.570' AS DateTime))
GO
INSERT [dbo].[Order] ([OrderId], [CustomerId], [OrderDatetime]) VALUES (5, 1, CAST(N'2024-06-05T21:40:58.127' AS DateTime))
GO
INSERT [dbo].[Order] ([OrderId], [CustomerId], [OrderDatetime]) VALUES (6, 4, CAST(N'2024-06-05T21:57:31.777' AS DateTime))
GO
INSERT [dbo].[Order] ([OrderId], [CustomerId], [OrderDatetime]) VALUES (7, 1, CAST(N'2023-04-01T21:44:22.110' AS DateTime))
GO
SET IDENTITY_INSERT [dbo].[Order] OFF
GO
INSERT [dbo].[OrderList] ([OrderId], [BookId], [Amount]) VALUES (1, 7, 2)
GO
INSERT [dbo].[OrderList] ([OrderId], [BookId], [Amount]) VALUES (1, 10, 7)
GO
INSERT [dbo].[OrderList] ([OrderId], [BookId], [Amount]) VALUES (2, 8, 4)
GO
INSERT [dbo].[OrderList] ([OrderId], [BookId], [Amount]) VALUES (2, 13, 4)
GO
INSERT [dbo].[OrderList] ([OrderId], [BookId], [Amount]) VALUES (3, 7, 5)
GO
INSERT [dbo].[OrderList] ([OrderId], [BookId], [Amount]) VALUES (4, 11, 8)
GO
INSERT [dbo].[OrderList] ([OrderId], [BookId], [Amount]) VALUES (4, 14, 11)
GO
SET ANSI_PADDING ON
GO
/****** Object:  Index [UQ_AuthorFullName]    Script Date: 23.06.2024 16:01:22 ******/
CREATE UNIQUE NONCLUSTERED INDEX [UQ_AuthorFullName] ON [dbo].[Author]
(
	[Name] ASC,
	[Surname] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
GO
SET ANSI_PADDING ON
GO
/****** Object:  Index [UQ_CategoryTitle]    Script Date: 23.06.2024 16:01:22 ******/
ALTER TABLE [dbo].[Category] ADD  CONSTRAINT [UQ_CategoryTitle] UNIQUE NONCLUSTERED 
(
	[Title] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
GO
SET ANSI_PADDING ON
GO
/****** Object:  Index [UQ_CustomerLogin]    Script Date: 23.06.2024 16:01:22 ******/
CREATE UNIQUE NONCLUSTERED INDEX [UQ_CustomerLogin] ON [dbo].[Customer]
(
	[Login] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
GO
ALTER TABLE [dbo].[Author] ADD  CONSTRAINT [DF_Author_Country]  DEFAULT (N'Россия') FOR [Country]
GO
ALTER TABLE [dbo].[Book] ADD  CONSTRAINT [DF_Book_Genre]  DEFAULT (N'Проза') FOR [Genre]
GO
ALTER TABLE [dbo].[Book] ADD  CONSTRAINT [DF_Book_Price]  DEFAULT ((0)) FOR [Price]
GO
ALTER TABLE [dbo].[Book] ADD  CONSTRAINT [DF_Book_Weight]  DEFAULT ((0)) FOR [Weight]
GO
ALTER TABLE [dbo].[Book] ADD  CONSTRAINT [DF_Book_Pages]  DEFAULT ((0)) FOR [Pages]
GO
ALTER TABLE [dbo].[Order] ADD  CONSTRAINT [DF_Order_OrderDatetime]  DEFAULT (getdate()) FOR [OrderDatetime]
GO
ALTER TABLE [dbo].[OrderList] ADD  CONSTRAINT [DF_OrderList_Amount]  DEFAULT ((1)) FOR [Amount]
GO
ALTER TABLE [dbo].[Book]  WITH CHECK ADD  CONSTRAINT [FK_Book_Author] FOREIGN KEY([AuthorId])
REFERENCES [dbo].[Author] ([AuthorId])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[Book] CHECK CONSTRAINT [FK_Book_Author]
GO
ALTER TABLE [dbo].[ExamOrder]  WITH CHECK ADD  CONSTRAINT [FK_ExamOrder_ExamPickupPoint] FOREIGN KEY([OrderPickupPoint])
REFERENCES [dbo].[ExamPickupPoint] ([PickupPointId])
GO
ALTER TABLE [dbo].[ExamOrder] CHECK CONSTRAINT [FK_ExamOrder_ExamPickupPoint]
GO
ALTER TABLE [dbo].[ExamOrder]  WITH CHECK ADD  CONSTRAINT [FK_ExamOrder_ExamUser] FOREIGN KEY([OrderUserId])
REFERENCES [dbo].[ExamUser] ([UserID])
GO
ALTER TABLE [dbo].[ExamOrder] CHECK CONSTRAINT [FK_ExamOrder_ExamUser]
GO
ALTER TABLE [dbo].[ExamOrderProduct]  WITH CHECK ADD  CONSTRAINT [FK__ExamOrder__Order__4AB81AF0] FOREIGN KEY([OrderID])
REFERENCES [dbo].[ExamOrder] ([OrderID])
GO
ALTER TABLE [dbo].[ExamOrderProduct] CHECK CONSTRAINT [FK__ExamOrder__Order__4AB81AF0]
GO
ALTER TABLE [dbo].[ExamOrderProduct]  WITH CHECK ADD  CONSTRAINT [FK__ExamOrder__Produ__4BAC3F29] FOREIGN KEY([ProductArticleNumber])
REFERENCES [dbo].[ExamProduct] ([ProductArticleNumber])
GO
ALTER TABLE [dbo].[ExamOrderProduct] CHECK CONSTRAINT [FK__ExamOrder__Produ__4BAC3F29]
GO
ALTER TABLE [dbo].[ExamUser]  WITH CHECK ADD  CONSTRAINT [FK__ExamUser__UserRo__367C1819] FOREIGN KEY([UserRole])
REFERENCES [dbo].[ExamRole] ([RoleID])
GO
ALTER TABLE [dbo].[ExamUser] CHECK CONSTRAINT [FK__ExamUser__UserRo__367C1819]
GO
ALTER TABLE [dbo].[Order]  WITH CHECK ADD  CONSTRAINT [FK_Order_Customer] FOREIGN KEY([CustomerId])
REFERENCES [dbo].[Customer] ([CustomerId])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[Order] CHECK CONSTRAINT [FK_Order_Customer]
GO
ALTER TABLE [dbo].[OrderList]  WITH CHECK ADD  CONSTRAINT [FK_OrderList_Book] FOREIGN KEY([BookId])
REFERENCES [dbo].[Book] ([BookId])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[OrderList] CHECK CONSTRAINT [FK_OrderList_Book]
GO
ALTER TABLE [dbo].[OrderList]  WITH CHECK ADD  CONSTRAINT [FK_OrderList_Order] FOREIGN KEY([OrderId])
REFERENCES [dbo].[Order] ([OrderId])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[OrderList] CHECK CONSTRAINT [FK_OrderList_Order]
GO
ALTER TABLE [dbo].[PromotionalItem]  WITH CHECK ADD  CONSTRAINT [FK_Book_PromotionalItem] FOREIGN KEY([BookId])
REFERENCES [dbo].[Book] ([BookId])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[PromotionalItem] CHECK CONSTRAINT [FK_Book_PromotionalItem]
GO
ALTER TABLE [dbo].[Book]  WITH CHECK ADD  CONSTRAINT [CK_BookGenre] CHECK  (([genre]='проза' OR [genre]='поэзия' OR [genre]='другое'))
GO
ALTER TABLE [dbo].[Book] CHECK CONSTRAINT [CK_BookGenre]
GO
ALTER TABLE [dbo].[OrderList]  WITH CHECK ADD  CONSTRAINT [CK_OrderListAmount] CHECK  (([Amount]>(0) AND [Amount]<=(100)))
GO
ALTER TABLE [dbo].[OrderList] CHECK CONSTRAINT [CK_OrderListAmount]
GO
/****** Object:  StoredProcedure [dbo].[AddOrder]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROC [dbo].[AddOrder]
@orderStatus nvarchar(MAX),
@orderDate datetime,
@orderDeliveryDate datetime,
@orderPickupPoint smallint,
@orderUserId int,
@orderPickupCode smallint
AS
INSERT INTO [dbo].[ExamOrder]
           ([OrderStatus]
           ,[OrderDate]
           ,[OrderDeliveryDate]
           ,[OrderPickupPoint]
           ,[OrderUserId]
           ,[OrderPickupCode])
     VALUES
           (@orderStatus,@orderDate,@orderDeliveryDate,@orderPickupPoint,@orderUserId,@orderPickupCode)
GO
/****** Object:  StoredProcedure [dbo].[AddProduct]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROC [dbo].[AddProduct]
	@article nvarchar(100),
	@productName nvarchar(max),
	@productDescription nvarchar(max),
	@productCategory nvarchar(max),
	@productManufacturer nvarchar(max),
	@productCost decimal(19,2),
	@productDiscountAmount tinyint,
	@productQuantityInStock int,
	@productStatus nvarchar(max)
AS
INSERT INTO [dbo].[ExamProduct](
[ProductArticleNumber],[ProductName],[ProductDescription],[ProductCategory],[ProductPhoto],[ProductManufacturer],[ProductCost],[ProductDiscountAmount],[ProductQuantityInStock],[ProductStatus]
   )VALUES 
       (
	   @article
	  ,@productName
      ,@productDescription
      ,@productCategory
      ,null
      ,@productManufacturer
      ,@productCost
      ,@productDiscountAmount
      ,@productQuantityInStock
      ,@productStatus
	  )
GO
/****** Object:  StoredProcedure [dbo].[AddProductToOrder]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROC [dbo].[AddProductToOrder]
	@orderId int,
	@article nvarchar(100),
	@amount tinyint
AS
INSERT INTO [dbo].[ExamOrderProduct]
(OrderId,ProductArticleNumber, ProductAmount)
      VALUES  (@orderId,@article, @amount)
GO
/****** Object:  StoredProcedure [dbo].[ChangeProduct]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROC [dbo].[ChangeProduct]
	@article nvarchar(100),
	@productName nvarchar(max),
	@productDescription nvarchar(max),
	@productCategory nvarchar(max),
	@productManufacturer nvarchar(max),
	@productCost decimal(19,2),
	@productDiscountAmount tinyint,
	@productQuantityInStock int,
	@productStatus nvarchar(max)
AS
UPDATE [dbo].[ExamProduct]
   SET 
      [ProductName] = @productName
      ,[ProductDescription] = @productDescription
      ,[ProductCategory] = @productCategory
      ,[ProductPhoto] = null
      ,[ProductManufacturer] = @productManufacturer
      ,[ProductCost] = @productCost
      ,[ProductDiscountAmount] = @productDiscountAmount
      ,[ProductQuantityInStock] = @productQuantityInStock
      ,[ProductStatus] = @productStatus
 WHERE ProductArticleNumber = @article
GO
/****** Object:  StoredProcedure [dbo].[DeleteOrder]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROC [dbo].[DeleteOrder]
@orderId int
AS
DELETE FROM [dbo].[ExamOrder]
      WHERE OrderID = @orderId
GO
/****** Object:  StoredProcedure [dbo].[DeleteProduct]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROC [dbo].[DeleteProduct]
	@article nvarchar(100)
AS
DELETE FROM [dbo].[ExamProduct]
      WHERE ProductArticleNumber = @article
GO
/****** Object:  StoredProcedure [dbo].[GetOrderList]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[GetOrderList]
    @orderId int
AS
    SELECT STRING_AGG(ProductArticleNumber, ', ')
	FROM ExamOrderProduct
	WHERE OrderID = @orderId
GO
/****** Object:  StoredProcedure [dbo].[GetOrderTotalCost]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[GetOrderTotalCost]
    @orderId int
AS
SELECT cast(SUM(ExamProduct.ProductCost*(1-ExamProduct.ProductDiscountAmount*0.01)) as decimal(18,2))
FROM ExamOrder INNER JOIN ExamOrderProduct ON ExamOrder.OrderID = ExamOrderProduct.OrderID INNER JOIN ExamProduct ON ExamOrderProduct.ProductArticleNumber = ExamProduct.ProductArticleNumber
WHERE ExamOrder.OrderID = @orderId;
GO
/****** Object:  StoredProcedure [dbo].[GetOrderTotalDiscount]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[GetOrderTotalDiscount]
    @orderId int
AS
SELECT SUM(ExamProduct.ProductDiscountAmount)
FROM ExamOrder INNER JOIN ExamOrderProduct ON ExamOrder.OrderID = ExamOrderProduct.OrderID INNER JOIN ExamProduct ON ExamOrderProduct.ProductArticleNumber = ExamProduct.ProductArticleNumber 
WHERE ExamOrder.OrderID = @orderId
GO
/****** Object:  StoredProcedure [dbo].[RemoveProductFromOrder]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROC [dbo].[RemoveProductFromOrder]
	@article nvarchar(100),
	@orderId int
AS
DELETE FROM [dbo].[ExamOrderProduct]
      WHERE ProductArticleNumber = @article AND OrderID = @orderId
GO
/****** Object:  StoredProcedure [dbo].[UpdateOrder]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROC [dbo].[UpdateOrder]
@orderId int,
@orderStatus nvarchar(MAX),
@orderPickupPoint smallint
AS
UPDATE ExamOrder 
SET OrderStatus = @orderStatus,
OrderPickupPoint = @orderPickupPoint
WHERE OrderID = @orderId
GO
/****** Object:  StoredProcedure [dbo].[UpdateProduct]    Script Date: 23.06.2024 16:01:22 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[UpdateProduct]
    @productArticle nvarchar(100),
    @productQuantity int  
AS
    UPDATE ExamProduct
	SET [ProductQuantityInStock] = @productQuantity
	WHERE ProductArticleNumber = @productArticle
GO
USE [master]
GO
ALTER DATABASE [ispp2114] SET  READ_WRITE 
GO